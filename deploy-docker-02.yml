--- 
- name: Install python3, docker, docker-compose 
  hosts: docker_server
  become: yes
  gather_facts: False
  tasks: 
  - name: Install python3 and docker
    vars: 
      ansible_python_interpreter: /usr/bin/python
    ansible.builtin.yum:
      name: 
        - python3 
        - docker 
      update_cache: yes
      state: present 
  - name: Install Docker-compose
    get_url: 
      url: https://github.com/docker/compose/releases/latest/download/docker-compose-Linux-x86_64
      dest: /usr/local/bin/docker-compose
      mode: +x
  - name: Add /usr/local/bin to PATH
    ansible.builtin.lineinfile:
      path: ~/.bashrc  # You can change this to the appropriate shell profile file if needed
      line: 'export PATH="/usr/local/bin:$PATH"'
      create: yes

