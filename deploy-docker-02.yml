--- 
- name: Install python3, docker, docker-compose 
  hosts: docker_server
  become: yes
  gather_facts: False
  tasks: 
  - name: Install python3 and docker
    vars: 
      ansible_python_interpreter: /usr/bin/python
    ansible.builtin.yum:
      name: 
        - python3 
        - docker 
      update_cache: yes
      state: present 
  - name: Install Docker-compose 
    shell: |
      curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-Linux-x86_64" -o /usr/local/bin/docker-compose
      chmod +x /usr/local/bin/docker-compose
    args:
      creates: /usr/local/bin/docker-compose
